import{N as g}from"./CompNavBar.19ad20b6.js";import{d as p,u,o as i,c as d,a as l,w as k,b as c,e,t as r,r as b,p as h,f as v,_ as m,F as x,m as I,n as $,z as B}from"./index.5373b702.js";const C=n=>(h("data-v-f2c14a2b"),n=n(),v(),n),L={class:"comp-item"},w={class:"btn-info"},S=["src"],q={class:"no-img-area"},F={class:"text-omit-2-lines"},M={class:"no-img-area bottom"},R={class:"no-img-area bottom right"},N=C(()=>e("div",{class:"btn sub"},[e("span",null,"-")],-1)),V=[N],D=C(()=>e("div",{class:"btn sub"},[e("span",null,"+")],-1)),O=[D],T=p({__name:"CompItemBlock",props:{item:null},setup(n){const t=n,_=u();let a=_.getItemById_FromStoreMap(t.item.id);return(o,s)=>{const f=b("RouterLink");return i(),d("div",L,[l(f,{to:{name:"info",params:{itemId:c(a).id}}},{default:k(()=>[e("div",w,[e("img",{src:c(a).imgURL[0]},null,8,S)])]),_:1},8,["to"]),e("div",q,[e("span",F,r(c(a).name),1),e("div",M,[e("span",null,"$"+r(c(a).price.toFixed(2)),1),e("div",R,[e("button",{onClick:s[0]||(s[0]=y=>c(_).itemQtyChange_inCartList(t.item.id,-1))},V),e("span",null,r(t.item._qty),1),e("button",{onClick:s[1]||(s[1]=y=>c(_).itemQtyChange_inCartList(t.item.id,1))},O)])])])])}}});const E=m(T,[["__scopeId","data-v-f2c14a2b"]]),P={class:"comp-content"},U={class:"col-list"},H=p({__name:"CompContent",setup(n){const t=u();return(_,a)=>(i(),d("div",P,[e("div",U,[(i(!0),d(x,null,I(c(t).cartList,o=>(i(),$(E,{key:o.id,item:o},null,8,["item"]))),128))])]))}});const K=m(H,[["__scopeId","data-v-7090c050"]]),Q=n=>(h("data-v-0367ede3"),n=n(),v(),n),z={class:"comp-bottom-bar"},Y={class:"left"},j={class:"right"},A=Q(()=>e("div",null,[e("span",null,"Checkout")],-1)),G=[A],J=p({__name:"CompBottomBar",setup(n){const t=u();function _(){if(t.cartList.length===0){t.showMessage("Your cart is empty,Unable to Checkout");return}let a=!0;for(const o of t.cartList){const s=t.getItemById_FromStoreMap(o.id);o._qty>s.stock&&(console.log("The '"+(s==null?void 0:s.name)+"' quantity you purchased has exceeded the stock quantity"),t.showMessage("CKECK_ERROR : The '"+(s==null?void 0:s.name)+"' quantity you purchased has exceeded the stock quantity"),a=!1)}if(a){let o=t.NewOrderDetail();for(let s of t.cartList)t.operateItemStock_onStoreMap(s.id,s._qty);o.status=!0,t.cartList.splice(0,t.cartList.length),t.setOrder_inOrderMap(o),B.push({name:"payment",params:{orderId:o.id}})}else t.showMessage("Payment failed")}return(a,o)=>(i(),d("div",z,[e("div",Y,[e("p",null,"Total "+r(c(t).cartList.length)+" Items",1),e("span",null,"$"+r(c(t).totalPrice_FromCartList.toFixed(2))+" USD",1)]),e("div",j,[e("button",{onClick:o[0]||(o[0]=s=>_())},G)])]))}});const W=m(J,[["__scopeId","data-v-0367ede3"]]),X={class:"view-cart"},Z=p({__name:"CartView",setup(n){return(t,_)=>(i(),d("div",X,[l(g,{is_CartHidden:!0,pageTitle:"Cart"},null,8,["is_CartHidden"]),l(K),l(W)]))}});const st=m(Z,[["__scopeId","data-v-f18386f8"]]);export{st as default};
